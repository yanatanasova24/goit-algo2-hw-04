# Аналіз логістичної мережі потоків

## Фактичні потоки товарів від терміналів до магазинів

| Термінал   | Магазин    | Фактичний потік |
|------------|------------|----------------|
| Термінал 1 | Магазин 1  | 15             |
| Термінал 1 | Магазин 2  | 10             |
| Термінал 1 | Магазин 3  | 0              |
| Термінал 1 | Магазин 4  | 15             |
| Термінал 1 | Магазин 5  | 10             |
| Термінал 1 | Магазин 6  | 0              |
| Термінал 1 | Магазин 7  | 0              |
| Термінал 1 | Магазин 8  | 0              |
| Термінал 1 | Магазин 9  | 0              |
| Термінал 1 | Магазин 10 | 0              |
| Термінал 1 | Магазин 11 | 0              |
| Термінал 1 | Магазин 12 | 0              |
| Термінал 1 | Магазин 13 | 0              |
| Термінал 1 | Магазин 14 | 0              |
| Термінал 2 | Магазин 1  | 0              |
| Термінал 2 | Магазин 2  | 0              |
| Термінал 2 | Магазин 3  | 0              |
| Термінал 2 | Магазин 4  | 0              |
| Термінал 2 | Магазин 5  | 0              |
| Термінал 2 | Магазин 6  | 25             |
| Термінал 2 | Магазин 7  | 20             |
| Термінал 2 | Магазин 8  | 15             |
| Термінал 2 | Магазин 9  | 0              |
| Термінал 2 | Магазин 10 | 20             |
| Термінал 2 | Магазин 11 | 10             |
| Термінал 2 | Магазин 12 | 0              |
| Термінал 2 | Магазин 13 | 0              |
| Термінал 2 | Магазин 14 | 0              |

---

# Покроковий розрахунок максимального потоку

| Крок | Шлях S → T                         | Мінімальна пропускна здатність (path_flow) | Коментар                                                                 |
|------|-----------------------------------|-------------------------------------------|--------------------------------------------------------------------------|
| 1    | S → Термінал 1 → Склад 1 → Магазин 1 → T | 15                                        | Потік проходить через найбільш вільне ребро Склад 1 → Магазин 1          |
| 2    | S → Термінал 1 → Склад 1 → Магазин 2 → T | 10                                        | Використано залишкову пропускну здатність ребра Термінал 1 → Склад 1     |
| 3    | S → Термінал 1 → Склад 2 → Магазин 4 → T | 15                                        | Потік обмежений ребром Склад 2 → Магазин 4                               |
| 4    | S → Термінал 2 → Склад 4 → Магазин 10 → T | 20                                        | Потік обмежений ребром Склад 4 → Магазин 10                              |
| 5    | S → Термінал 2 → Склад 3 → Магазин 7 → T  | 15                                        | Потік йде через Склад 3 → Магазин 7                                     |
| 6    | S → Термінал 2 → Склад 3 → Магазин 8 → T  | 15                                        | Потік йде через Склад 3 → Магазин 8                                     |
| 7    | S → Термінал 2 → Склад 2 → Магазин 6 → T  | 10                                        | Потік обмежений ребром Термінал 2 → Склад 2                              |
| 8    | S → Термінал 2 → Склад 4 → Магазин 11 → T | 10                                        | Потік обмежений ребром Склад 4 → Магазин 11                               |
| 9    | S → Термінал 1 → Склад 1 → Магазин 3 → T  | 0                                         | Всі ребра на шляху вичерпані, потік не пройшов                             |
| 10   | S → Термінал 2 → Склад 4 → Магазин 12 → T | 0                                         | Всі ребра на шляху вичерпані, потік не пройшов                             |
| 11   | S → Термінал 2 → Склад 4 → Магазин 13 → T | 0                                         | Вузьке місце: ребро Склад 4 → Магазин 13 = 5, потік уже використаний      |
| 12   | S → Термінал 2 → Склад 4 → Магазин 14 → T | 0                                         | Всі можливі шляхи вичерпані                                               |

**Пояснення логіки:**

- Кожного разу ми шукаємо шлях з джерела S до стоку T за допомогою BFS.  
- Потік через шлях обмежується **мінімальною пропускною здатністю ребра на цьому шляху** (`path_flow`).  
- Після проходження потоку ми **оновлюємо залишкову мережу**, віднімаючи `path_flow` від прямого ребра і додаючи його на зворотне ребро.  
- Процес повторюється до тих пір, поки **BFS не знайде жодного шляху**, тобто поки всі можливі маршрути використані.  
- Результатом є **максимальний потік = 95 одиниць**, що відповідає **оптимальному розподілу товарів** по мережі.  
- Вузькі місця (ребра з малою пропускною здатністю) визначають магазини з мінімальним або нульовим потоком (Магазини 3, 9, 12–14).

## Висновки

1. **Оптимальний потік досягнуто**  
   - Загальний максимальний потік мережі становить **95 одиниць**.  
   - Більше товарів доставити не можна без збільшення пропускних здатностей ребер.

2. **Найбільший внесок у потік**  
   - **Термінал 1** забезпечує потоки до магазинів 1–5.  
   - **Термінал 2** забезпечує потоки до магазинів 6–11.

3. **Вузькі місця мережі**  
   - Ребра з низькою пропускною здатністю обмежують потік:  
     - `Термінал 2 → Склад 2 = 10`  
     - `Термінал 1 → Склад 3 = 15`  
     - `Склад 4 → Магазин 13 = 5`  
   - Вони визначають максимальну можливу доставку до відповідних магазинів.

4. **Магазини з мінімальним або нульовим потоком**  
   - Магазини: 3, 9, 12–14 отримали мало або не отримали товару.  
   - Щоб збільшити їх постачання, потрібно підвищити пропускну здатність вузьких ребер або додати нові маршрути.

5. **Рекомендації для покращення логістики**  
   - Збільшити пропускну здатність вузьких ребер.  
   - Оптимізувати розподіл потоків через склади.  
   - Додати нові маршрути від складів до магазинів з нульовим потоком.
